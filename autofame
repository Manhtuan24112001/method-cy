local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Tạo ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = playerGui

-- Tạo TextLabel để hiển thị thông tin
local infoLabel = Instance.new("TextLabel")
infoLabel.Size = UDim2.new(0, 400, 0, 50)
infoLabel.Position = UDim2.new(0, 50, 0, 50)
infoLabel.Text = "Thông tin đang được tải..."
infoLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
infoLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
infoLabel.Font = Enum.Font.SourceSans
infoLabel.TextSize = 24
infoLabel.Parent = screenGui

-- Tạo bảng kiểm tra các vật phẩm
local itemCheckTable = Instance.new("TextLabel")
itemCheckTable.Size = UDim2.new(0, 400, 0, 100)
itemCheckTable.Position = UDim2.new(0, 50, 0, 120)
itemCheckTable.Text = "Valkyrie Helm: Chưa có\nTushita: Chưa có\nCursed Dual Katana: Chưa có\nSkull Guitar: Chưa có"
itemCheckTable.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
itemCheckTable.TextColor3 = Color3.fromRGB(255, 255, 255)
itemCheckTable.Font = Enum.Font.SourceSans
itemCheckTable.TextSize = 18
itemCheckTable.Parent = screenGui

-- Cập nhật thông tin cho UI
local function updateInfo(message)
    infoLabel.Text = message
end

-- Cập nhật bảng kiểm tra vật phẩm
local function updateItemCheckTable()
    local inventory = game:GetService("ReplicatedStorage").Remotes["CommF_"]:InvokeServer("getInventory")
    local hasValkyrieHelm = false
    local hasTushita = false
    local hasCursedDualKatana = false
    local hasSkullGuitar = false

    -- Kiểm tra các vật phẩm trong inventory
    for i, v in next, inventory do
        if v.Name == "Valkyrie Helm" then
            hasValkyrieHelm = true
        elseif v.Name == "Tushita" then
            hasTushita = true
        elseif v.Name == "Cursed Dual Katana" then
            hasCursedDualKatana = true
        elseif v.Name == "Skull Guitar" then
            hasSkullGuitar = true
        end
    end

    -- Cập nhật bảng kiểm tra vật phẩm
    itemCheckTable.Text = string.format("Valkyrie Helm: %s\nTushita: %s\nCursed Dual Katana: %s\nSkull Guitar: %s",
        hasValkyrieHelm and "Có" or "Chưa có",
        hasTushita and "Có" or "Chưa có",
        hasCursedDualKatana and "Có" or "Chưa có",
        hasSkullGuitar and "Có" or "Chưa có")
end

-- Đợi game tải xong
wait(20)
repeat task.wait() until game:IsLoaded()
repeat task.wait() until game.Players
repeat task.wait() until game.Players.LocalPlayer
repeat task.wait() until game.Players.LocalPlayer:FindFirstChild("PlayerGui")
repeat task.wait() until game.Players.LocalPlayer.PlayerGui:FindFirstChild("Main (minimal)")

-- Chọn team "Pirates" nếu chọn được
if game:GetService("Players").LocalPlayer.PlayerGui["Main (minimal)"]:FindFirstChild("ChooseTeam") then
    repeat task.wait()
        game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("CommF_"):InvokeServer("SetTeam", "Pirates")
        updateInfo("Đang chọn team Pirates...")
    until game.Players.LocalPlayer.Team ~= nil and game:IsLoaded()
end

-- Đợi 10 giây trước khi tiếp tục
wait(10)

local Players = game:GetService("Players")
local level = Players.LocalPlayer.Data.Level.Value
local RaceFragments = Players.LocalPlayer.Data.Fragments.Value

-- Cập nhật thông tin cho UI
updateInfo("Đang kiểm tra level và RaceFragments...")

-- Thêm chức năng làm mới thông tin mỗi 20 giây
local function refreshInfo()
    while true do
        -- Cập nhật lại thông tin Level và RaceFragments
        level = Players.LocalPlayer.Data.Level.Value
        RaceFragments = Players.LocalPlayer.Data.Fragments.Value
        updateInfo(string.format("Level: %d, RaceFragments: %d", level, RaceFragments))
        updateItemCheckTable()  -- Cập nhật bảng kiểm tra vật phẩm
        wait(20)  -- Chờ 20 giây trước khi cập nhật lại
    end
end

-- Bắt đầu làm mới thông tin mỗi 20 giây trong một luồng riêng
spawn(refreshInfo)

-- Nếu level <= 2300, chạy script 1
repeat
    if level <= 2300 then
        updateInfo("Đang cày level này thằng lol")
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Manhtuan24112001/method-cy/refs/heads/main/wazurekaitun"))()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Manhtuan24112001/autogat/refs/heads/main/adfen"))()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Manhtuan24112001/autogat/refs/heads/main/autochat"))()
    end
    task.wait(5)  -- Chờ một khoảng thời gian nhỏ trước khi kiểm tra lại
    level = Players.LocalPlayer.Data.Level.Value  -- Cập nhật level người chơi
until level > 2300

-- Nếu level >= 2300
repeat
    updateItemCheckTable()  -- Cập nhật bảng kiểm tra vật phẩm mỗi lần
    task.wait(5)  -- Chờ trước khi kiểm tra lại
until level >= 2300
