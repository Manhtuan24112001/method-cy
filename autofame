local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Tạo ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = playerGui

-- Tạo TextLabel để hiển thị thông tin
local infoLabel = Instance.new("TextLabel")
infoLabel.Size = UDim2.new(0, 400, 0, 50)
infoLabel.Position = UDim2.new(0, 50, 0, 50)
infoLabel.Text = "Script đang chạy: Đang kiểm tra Level..."
infoLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
infoLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
infoLabel.Font = Enum.Font.SourceSans
infoLabel.TextSize = 24
infoLabel.Parent = screenGui

-- Cập nhật TextLabel với thông tin về script
local function updateInfo(message)
    infoLabel.Text = message
end

-- Đợi game tải xong
wait(20)
repeat task.wait() until game:IsLoaded()
repeat task.wait() until game.Players
repeat task.wait() until game.Players.LocalPlayer
repeat task.wait() until game.Players.LocalPlayer:FindFirstChild("PlayerGui")
repeat task.wait() until game.Players.LocalPlayer.PlayerGui:FindFirstChild("Main (minimal)")

-- Chọn team "Pirates" nếu chọn được
if game:GetService("Players").LocalPlayer.PlayerGui["Main (minimal)"]:FindFirstChild("ChooseTeam") then
    repeat task.wait()
        game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("CommF_"):InvokeServer("SetTeam", "Pirates")
        updateInfo("Đang chọn team Pirates...")
    until game.Players.LocalPlayer.Team ~= nil and game:IsLoaded()
end

-- Đợi 10 giây trước khi tiếp tục
wait(10)

local Players = game:GetService("Players")
local level = Players.LocalPlayer.Data.Level.Value
local RaceFragments = Players.LocalPlayer.Data.Fragments.Value

-- Cập nhật thông tin cho UI
updateInfo("Đang kiểm tra level và RaceFragments...")

-- Kiểm tra level và thực hiện hành động tương ứng
repeat
    if level <= 2300 then
        updateInfo("Đang cày lever này thằng lol")
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Manhtuan24112001/method-cy/refs/heads/main/wazurekaitun"))()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Manhtuan24112001/autogat/refs/heads/main/adfen"))()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Manhtuan24112001/autogat/refs/heads/main/autochat"))()
    end
    task.wait(5)  -- Chờ một khoảng thời gian nhỏ trước khi kiểm tra lại
    level = Players.LocalPlayer.Data.Level.Value  -- Cập nhật level người chơi
until level > 2300

-- Kiểm tra inventory và chạy các script tương ứng
repeat
    local inventory = game:GetService("ReplicatedStorage").Remotes["CommF_"]:InvokeServer("getInventory")
    local hasValkyrieHelm, hasTushita, hasCursedDualKatana, hasSkullGuitar, hasMirrorFractal = false, false, false, false, false

    -- Kiểm tra các vật phẩm trong inventory
    for i, v in next, inventory do
        if v.Name == "Valkyrie Helm" then
            hasValkyrieHelm = true
        elseif v.Name == "Tushita" then
            hasTushita = true
        elseif v.Name == "Cursed Dual Katana" then
            hasCursedDualKatana = true
        elseif v.Name == "Skull Guitar" then
            hasSkullGuitar = true
        elseif v.Name == "Mirror Fractal" then
            hasMirrorFractal = true
        end
    end

    -- Cập nhật thông tin UI
    updateInfo("Kiểm tra các vật phẩm trong inventory...")

    -- Nếu thiếu "Valkyrie Helm" hoặc "Tushita", chạy script 1
    if not (hasValkyrieHelm and hasTushita) then
        updateInfo("...bố đang đi nấy mũ với kiếm nè con...")
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Manhtuan24112001/method-cy/refs/heads/main/wazurekaitun"))()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Manhtuan24112001/autogat/refs/heads/main/adfen"))()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Manhtuan24112001/autogat/refs/heads/main/autochat"))()
    elseif not (hasCursedDualKatana and hasSkullGuitar and hasMirrorFractal) then
        -- Nếu thiếu "Cursed Dual Katana", "Skull Guitar" hoặc "Mirror Fractal", chạy script khác
        updateInfo("...bố đang chạy nấy cdk và sgt nè con...")
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Manhtuan24112001/autogat/refs/heads/main/cay60kf2"))()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Manhtuan24112001/autogat/refs/heads/main/adfen"))()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Manhtuan24112001/autogat/refs/heads/main/autochat"))()
    else
        -- Nếu có đầy đủ các vật phẩm
        if level == 2600 and RaceFragments == 20000 then
            updateInfo("...bố đang đi gạt nè con ...")
            loadstring(game:HttpGet("https://raw.githubusercontent.com/Manhtuan24112001/autogat/refs/heads/main/autogatcan2"))()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/Manhtuan24112001/autogat/refs/heads/main/adfen"))()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/Manhtuan24112001/autogat/refs/heads/main/autochat"))()
        end
    end
    task.wait(5)  -- Chờ trước khi kiểm tra lại
until level >= 2300 and hasValkyrieHelm and hasTushita and hasCursedDualKatana and hasSkullGuitar and hasMirrorFractal
